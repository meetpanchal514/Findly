/* --- Tailwind (required; keep at top) --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   Theme tokens (light / dark)
   ================================ */
:root {
  /* Colors */
  --bg-primary: #fafafa;           /* neutral-50 */
  --bg-secondary: #f5f5f5;         /* neutral-100 */
  --text-primary: #0a0a0a;         /* neutral-950 */
  --text-secondary: #4b4b4b;       /* neutral-600 */
  --glass-bg: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(125, 207, 182, 0.2); /* tiffany-blue (0.2) */
  --accent: #00b2ca;               /* moonstone */
  --shadow-color: rgba(31, 38, 135, 0.37);

  /* Layout safety + sticky bar */
  --nav-safe: 96px;   /* desktop navbar safe offset */
  --lostbar-h: 72px;  /* sticky Lost Items pill height */
}

@media (max-width: 767.98px) {
  :root {
    --nav-safe: 88px;   /* mobile navbar offset */
    --lostbar-h: 64px;  /* mobile Lost Items height */
  }
}

[data-theme='dark'] {
  --bg-primary: #0a0a0a;           /* neutral-950 */
  --bg-secondary: #171717;         /* neutral-900 */
  --text-primary: #fafafa;         /* neutral-50 */
  --text-secondary: #a3a3a3;       /* neutral-400 */
  --glass-bg: rgba(0, 0, 0, 0.3);
  --glass-border: rgba(29, 78, 137, 0.2);   /* yinmn-blue (0.2) */
  --accent: #1d4e89;               /* yinmn-blue */
}

/* ================================
   Global base
   ================================ */
html {
  transition: background-color 0.3s, color 0.3s;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
               Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s, color 0.3s;
}

/* ================================
   Glass / card primitives
   ================================ */
.glass {
  background-color: var(--glass-bg);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  border: 1px solid var(--glass-border);
  border-radius: 1.5rem;
  box-shadow: 0 8px 32px 0 var(--shadow-color);
}

.glass-inner { position: relative; }

/* Decorative sheen — never intercept clicks */
.glass-inner::before,
.card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to right, rgba(255, 255, 255, 0.05), transparent);
  border-radius: 1.5rem;
  animation: refract 2s ease-in-out infinite;
  pointer-events: none; /* critical: do not block clicks */
}

.hero-glass {
  background-color: var(--glass-bg);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  border: 1px solid var(--glass-border);
  border-radius: 1.5rem;
  box-shadow: 0 8px 32px 0 var(--shadow-color);
  padding: 2rem 3rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.card {
  background-color: var(--glass-bg);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  border: 1px solid var(--glass-border);
  border-radius: 1.5rem;
  box-shadow: 0 8px 32px 0 var(--shadow-color);
  padding: 1.5rem;
  text-align: center;
  position: relative;
}

/* ================================
   Pagination
   ================================ */
.pagination {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 2rem;
}

.pagination button {
  padding: 0.5rem 1rem;
  background-color: var(--glass-bg);
  border-radius: 0.5rem;
  box-shadow: 0 8px 32px 0 var(--shadow-color);
  border: 1px solid var(--glass-border);
  color: var(--text-primary);
  transition: all 0.2s;
}

.pagination button:hover {
  background-color: rgba(0, 178, 202, 0.2); /* moonstone / 0.2 (light) */
}

[data-theme='dark'] .pagination button:hover {
  background-color: rgba(29, 78, 137, 0.2); /* yinmn-blue / 0.2 (dark) */
}

.pagination .active {
  background-color: var(--accent);
  color: var(--text-primary);
  border: 1px solid var(--accent);
}

/* ================================
   Page section helpers
   ================================ */

/* Push pages below the fixed navbar */
.stack-under-nav { padding-top: var(--nav-safe); }

/* Sticky Lost Items bar (centered), lives just below navbar */
.lostbar-sticky { position: sticky; top: var(--nav-safe); z-index: 260; }

/* The Lost Items pill itself; fixed height so cards never overlap it */
.lostbar {
  height: var(--lostbar-h);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 1.5rem;
}

/* Ensure cards always begin below the sticky bar (clears shadow) */
.cards-after-bar { margin-top: calc(var(--lostbar-h) * 0.45); }

/* Legacy page wrappers (no top padding here—use .stack-under-nav) */
.post-item-page,
.view-items-page {
  min-height: 100vh;
  padding: 1rem;
}

/* ================================
   Animation
   ================================ */
@keyframes refract {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.2); }
  50%      { box-shadow: 0 0 20px 10px rgba(255, 255, 255, 0.1); }
}
